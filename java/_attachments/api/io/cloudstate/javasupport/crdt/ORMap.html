<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ORMap</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ORMap";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":18};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.cloudstate.javasupport.crdt</a></div>
<h2 title="Interface ORMap" class="title">Interface ORMap&lt;K,&#8203;V extends <a href="Crdt.html" title="interface in io.cloudstate.javasupport.crdt">Crdt</a>&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - The type of keys.</dd>
<dd><code>V</code> - The CRDT to be used for values.</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="Crdt.html" title="interface in io.cloudstate.javasupport.crdt">Crdt</a></code>, <code>java.util.Map&lt;K,&#8203;V&gt;</code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">ORMap&lt;K,&#8203;V extends <a href="Crdt.html" title="interface in io.cloudstate.javasupport.crdt">Crdt</a>&gt;</span>
extends <a href="Crdt.html" title="interface in io.cloudstate.javasupport.crdt">Crdt</a>, java.util.Map&lt;K,&#8203;V&gt;</pre>
<div class="block">An Observed-Removed Map.

 <p>An Observed-Removed Map allows both the addition and removal of objects in a map. A removal
 can only be done if all of the additions that caused the key to be in the map have been seen by
 this node. This means that, for example, if node 1 adds key A, and node 2 also adds key A, then
 node 1's addition is replicated to node 3, and node 3 deletes it before node 2's addition is
 replicated, then the item will still be in the map because node 2's addition had not yet been
 observed by node 3. However, if both additions had been replicated to node 3, then the key will
 be removed.

 <p>The values of the map are themselves CRDTs, and hence allow concurrent updates that will
 eventually converge. Values may only be inserted using the <a href="#getOrCreate(K,java.util.function.Function)"><code>getOrCreate(Object,
 Function)</code></a> function, using the <a href="CrdtFactory.html" title="interface in io.cloudstate.javasupport.crdt"><code>CrdtFactory</code></a> passed in to the creation callback. Invoking
 <a href="#put(K,V)"><code>put(Object, Crdt)</code></a> or any other insertion method will throw a <code>UnsupportedOperationException</code>.

 <p>While removing entries from the map is supported, if the entries are added back again, it is
 possible that the value of the deleted entry may be merged into the value of the current entry,
 depending on whether the removal has been replicated to all nodes before the addition is
 performed.

 <p>The map may contain different CRDT types as values, however, for a given key, the type must
 never change. If two different types for the same key are inserted on different nodes, the CRDT
 will enter an invalid state that can never be merged, and behavior of the CRDT is undefined.

 <p>Care needs to be taken to ensure that the serialized value of keys in the set is stable. For
 example, if using protobufs, the serialized value of any maps contained in the protobuf is not
 stable, and can yield a different set of bytes for the same logically equal element. Hence maps
 should be avoided. Additionally, some changes in protobuf schemas which are backwards compatible
 from a protobuf perspective, such as changing from sint32 to int32, do result in different
 serialized bytes, and so must be avoided.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.java.util.Map">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;java.util.Map</h3>
<code>java.util.Map.Entry&lt;K extends java.lang.Object,&#8203;V extends java.lang.Object&gt;</code></li>
</ul>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="ORMap.html" title="type parameter in ORMap">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrCreate(K,java.util.function.Function)">getOrCreate</a></span>&#8203;(<a href="ORMap.html" title="type parameter in ORMap">K</a>&nbsp;key,
           java.util.function.Function&lt;<a href="CrdtFactory.html" title="interface in io.cloudstate.javasupport.crdt">CrdtFactory</a>,&#8203;<a href="ORMap.html" title="type parameter in ORMap">V</a>&gt;&nbsp;create)</code></th>
<td class="colLast">
<div class="block">Get or create an entry in the map with the given key.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>default <a href="ORMap.html" title="type parameter in ORMap">V</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#put(K,V)">put</a></span>&#8203;(<a href="ORMap.html" title="type parameter in ORMap">K</a>&nbsp;key,
   <a href="ORMap.html" title="type parameter in ORMap">V</a>&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Not supported on ORMap.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.util.Map">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.util.Map</h3>
<code>clear, compute, computeIfAbsent, computeIfPresent, containsKey, containsValue, entrySet, equals, forEach, get, getOrDefault, hashCode, isEmpty, keySet, merge, putAll, putIfAbsent, remove, remove, replace, replace, replaceAll, size, values</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getOrCreate(java.lang.Object,java.util.function.Function)">
<!--   -->
</a><a id="getOrCreate(K,java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrCreate</h4>
<pre class="methodSignature"><a href="ORMap.html" title="type parameter in ORMap">V</a>&nbsp;getOrCreate&#8203;(<a href="ORMap.html" title="type parameter in ORMap">K</a>&nbsp;key,
              java.util.function.Function&lt;<a href="CrdtFactory.html" title="interface in io.cloudstate.javasupport.crdt">CrdtFactory</a>,&#8203;<a href="ORMap.html" title="type parameter in ORMap">V</a>&gt;&nbsp;create)</pre>
<div class="block">Get or create an entry in the map with the given key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The key of the entry.</dd>
<dd><code>create</code> - A callback used to create the value using the given <a href="CrdtFactory.html" title="interface in io.cloudstate.javasupport.crdt"><code>CrdtFactory</code></a> if an
     entry for the key is not currently in the map.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The existing or newly created value for the given key.</dd>
</dl>
</li>
</ul>
<a id="put(java.lang.Object,io.cloudstate.javasupport.crdt.Crdt)">
<!--   -->
</a><a id="put(K,V)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>put</h4>
<pre class="methodSignature">default&nbsp;<a href="ORMap.html" title="type parameter in ORMap">V</a>&nbsp;put&#8203;(<a href="ORMap.html" title="type parameter in ORMap">K</a>&nbsp;key,
              <a href="ORMap.html" title="type parameter in ORMap">V</a>&nbsp;value)</pre>
<div class="block">Not supported on ORMap. Use <a href="#getOrCreate(K,java.util.function.Function)"><code>getOrCreate(Object, Function)</code></a> instead.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>put</code>&nbsp;in interface&nbsp;<code>java.util.Map&lt;<a href="ORMap.html" title="type parameter in ORMap">K</a>,&#8203;<a href="ORMap.html" title="type parameter in ORMap">V</a> extends <a href="Crdt.html" title="interface in io.cloudstate.javasupport.crdt">Crdt</a>&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
